// const { Alert } = require("bootstrap");

// js funcional
var porcentajes = [];

function cargar() {
    var i, element;
    element = document.getElementById('tablaPorcentajes').getElementsByTagName('td');
    for (var i = 0; i < element.length; i++) {
        porcentajes.push(element[i].innerHTML);
    }

}


var x = 0;

function generarLetra() {
    var letras = ["a", "b", "c", "d", "e", "f", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
    var numero = (Math.random() * 15).toFixed(0);
    return letras[numero];
}

function colorHEX() {
    var coolor = "";
    for (var i = 0; i < 6; i++) {
        coolor = coolor + generarLetra();
    }
    return "#" + coolor;
}

function ruleta() {

    if (x > porcentajes.length) {

        x = 0;
    }

    document.getElementById("porcentaje").textContent = porcentajes[x];
    if (document.getElementById("porcentaje").textContent == "") {
        document.getElementById("porcentaje").textContent = "0";

    }
    // document.getElementById("rueda").style.background = colorHEX();
    x++;


}
// temporizador = setInterval("ruleta()", 00100);
// setTimeout(clearInterval(temporizador), 3000);
function Parar() {
    if (x == 0) {
        document.getElementById("porcentaje").textContent = "0";
    }

    document.getElementById("rueda").style.animationTimingFunction = "ease-out"
    document.getElementById("rueda").style.animationDuration = "0.8s";
    document.getElementById("rueda").style.animationIterationCount = 2;
    clearInterval(temporizador);

    if (document.getElementById("porcentaje").textContent == "0") {
        document.getElementById("texto").textContent = "¡Ups!, no has obtenido un descuento, sigue intentando."
        document.getElementById("guardar").style.display = "none";
    } else {
        document.getElementById("texto").textContent = document.getElementById("texto").textContent + "" +
            document.getElementById("porcentaje").textContent + "%";
    }
    document.getElementById("final").value = document.getElementById("porcentaje").textContent;
    document.getElementById("guardar").style.display = "block";
    document.getElementById("parar").style.display = "none";


    document.getElementById("texto").style.display = "block";
    if (document.getElementById("porcentaje").textContent == "") {
        // document.getElementById("porcentaje").style.fontSize = "12px";

        document.getElementById("iniciar").style.display = "block";
        document.getElementById("guardar").style.display = "none";
    }
}


function Iniciar() {

    temporizador = setInterval("ruleta()", 0000100);
    document.getElementById("iniciar").style.display = "none";
    document.getElementById("simbolo").style.display = "block";
    document.getElementById("rueda").className = "rueda";
    cargar();
    // alert(porcentajes);
    timeout();

}

function guardar() {
    document.getElementById("guardar").style.display = "none";
    document.getElementById("iniciar").style.display = "block";
    document.getElementById("porcentaje").textContent = "0";
    document.getElementById("texto").style.display = "none";
}

function timeout() {
    setTimeout(function() {
        document.getElementById("parar").style.display = "block";
    }, 2000, "JavaScript");
}
$(function() {

    'use strict'

    /* ChartJS
     * -------
     * Here we will create a few charts using ChartJS
     */

    //-----------------------
    //- MONTHLY SALES CHART -
    //-----------------------

    // Get context with jQuery - using jQuery's .get() method.
    var salesChartCanvas = $('#salesChart').get(0).getContext('2d')

    var salesChartData = {
        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
        datasets: [{
                label: 'Digital Goods',
                backgroundColor: 'rgba(60,141,188,0.9)',
                borderColor: 'rgba(60,141,188,0.8)',
                pointRadius: false,
                pointColor: '#3b8bba',
                pointStrokeColor: 'rgba(60,141,188,1)',
                pointHighlightFill: '#fff',
                pointHighlightStroke: 'rgba(60,141,188,1)',
                data: [28, 48, 40, 19, 86, 27, 90]
            },
            {
                label: 'Electronics',
                backgroundColor: 'rgba(210, 214, 222, 1)',
                borderColor: 'rgba(210, 214, 222, 1)',
                pointRadius: false,
                pointColor: 'rgba(210, 214, 222, 1)',
                pointStrokeColor: '#c1c7d1',
                pointHighlightFill: '#fff',
                pointHighlightStroke: 'rgba(220,220,220,1)',
                data: [65, 59, 80, 81, 56, 55, 40]
            },
        ]
    }

    var salesChartOptions = {
        maintainAspectRatio: false,
        responsive: true,
        legend: {
            display: false
        },
        scales: {
            xAxes: [{
                gridLines: {
                    display: false,
                }
            }],
            yAxes: [{
                gridLines: {
                    display: false,
                }
            }]
        }
    }

    // This will get the first returned node in the jQuery collection.
    var salesChart = new Chart(salesChartCanvas, {
        type: 'line',
        data: salesChartData,
        options: salesChartOptions
    })

    //---------------------------
    //- END MONTHLY SALES CHART -
    //---------------------------

    //-------------
    //- PIE CHART -
    //-------------
    // Get context with jQuery - using jQuery's .get() method.
    var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
    var pieData = {
        labels: [
            'Chrome',
            'IE',
            'FireFox',
            'Safari',
            'Opera',
            'Navigator',
        ],
        datasets: [{
            data: [700, 500, 400, 600, 300, 100],
            backgroundColor: ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
        }]
    }
    var pieOptions = {
            legend: {
                display: false
            }
        }
        //Create pie or douhnut chart
        // You can switch between pie and douhnut using the method below.
    var pieChart = new Chart(pieChartCanvas, {
        type: 'doughnut',
        data: pieData,
        options: pieOptions
    })

    //-----------------
    //- END PIE CHART -
    //-----------------

    /* jVector Maps
     * ------------
     * Create a world map with markers
     */
    $('#world-map-markers').mapael({
        map: {
            name: "usa_states",
            zoom: {
                enabled: true,
                maxLevel: 10
            },
        },
    });

    // $('#world-map-markers').vectorMap({
    //   map              : 'world_en',
    //   normalizeFunction: 'polynomial',
    //   hoverOpacity     : 0.7,
    //   hoverColor       : false,
    //   backgroundColor  : 'transparent',
    //   regionStyle      : {
    //     initial      : {
    //       fill            : 'rgba(210, 214, 222, 1)',
    //       'fill-opacity'  : 1,
    //       stroke          : 'none',
    //       'stroke-width'  : 0,
    //       'stroke-opacity': 1
    //     },
    //     hover        : {
    //       'fill-opacity': 0.7,
    //       cursor        : 'pointer'
    //     },
    //     selected     : {
    //       fill: 'yellow'
    //     },
    //     selectedHover: {}
    //   },
    //   markerStyle      : {
    //     initial: {
    //       fill  : '#00a65a',
    //       stroke: '#111'
    //     }
    //   },
    //   markers          : [
    //     {
    //       latLng: [41.90, 12.45],
    //       name  : 'Vatican City'
    //     },
    //     {
    //       latLng: [43.73, 7.41],
    //       name  : 'Monaco'
    //     },
    //     {
    //       latLng: [-0.52, 166.93],
    //       name  : 'Nauru'
    //     },
    //     {
    //       latLng: [-8.51, 179.21],
    //       name  : 'Tuvalu'
    //     },
    //     {
    //       latLng: [43.93, 12.46],
    //       name  : 'San Marino'
    //     },
    //     {
    //       latLng: [47.14, 9.52],
    //       name  : 'Liechtenstein'
    //     },
    //     {
    //       latLng: [7.11, 171.06],
    //       name  : 'Marshall Islands'
    //     },
    //     {
    //       latLng: [17.3, -62.73],
    //       name  : 'Saint Kitts and Nevis'
    //     },
    //     {
    //       latLng: [3.2, 73.22],
    //       name  : 'Maldives'
    //     },
    //     {
    //       latLng: [35.88, 14.5],
    //       name  : 'Malta'
    //     },
    //     {
    //       latLng: [12.05, -61.75],
    //       name  : 'Grenada'
    //     },
    //     {
    //       latLng: [13.16, -61.23],
    //       name  : 'Saint Vincent and the Grenadines'
    //     },
    //     {
    //       latLng: [13.16, -59.55],
    //       name  : 'Barbados'
    //     },
    //     {
    //       latLng: [17.11, -61.85],
    //       name  : 'Antigua and Barbuda'
    //     },
    //     {
    //       latLng: [-4.61, 55.45],
    //       name  : 'Seychelles'
    //     },
    //     {
    //       latLng: [7.35, 134.46],
    //       name  : 'Palau'
    //     },
    //     {
    //       latLng: [42.5, 1.51],
    //       name  : 'Andorra'
    //     },
    //     {
    //       latLng: [14.01, -60.98],
    //       name  : 'Saint Lucia'
    //     },
    //     {
    //       latLng: [6.91, 158.18],
    //       name  : 'Federated States of Micronesia'
    //     },
    //     {
    //       latLng: [1.3, 103.8],
    //       name  : 'Singapore'
    //     },
    //     {
    //       latLng: [1.46, 173.03],
    //       name  : 'Kiribati'
    //     },
    //     {
    //       latLng: [-21.13, -175.2],
    //       name  : 'Tonga'
    //     },
    //     {
    //       latLng: [15.3, -61.38],
    //       name  : 'Dominica'
    //     },
    //     {
    //       latLng: [-20.2, 57.5],
    //       name  : 'Mauritius'
    //     },
    //     {
    //       latLng: [26.02, 50.55],
    //       name  : 'Bahrain'
    //     },
    //     {
    //       latLng: [0.33, 6.73],
    //       name  : 'São Tomé and Príncipe'
    //     }
    //   ]
    // })

})
window.addEventListener('load', () => {
    const contcarga = document.querySelector('.contcarga')
    contcarga.style.opacity = 1
    contcarga.style.visibility = 'hidden'
});

function cambiocolor() {
    var soli = document.getElementById("flecha1");
}

function rotate(value) {
    var soli = document.getElementById("flecha1");

    if (soli.style.msTransform == "rotate(" + 180 + "deg)" || soli.style.webkitTransform == "rotate(" + 180 + "deg)" || soli.style.transform == "rotate(" + 180 + "deg)") {
        soli.style.webkitTransform = "rotate(" + 0 + "deg)";
        soli.style.msTransform = "rotate(" + 0 + "deg)";
        soli.style.transform = "rotate(" + 0 + "deg)";
    } else {
        soli.style.webkitTransform = "rotate(" + value + "deg)";
        soli.style.msTransform = "rotate(" + value + "deg)";
        soli.style.transform = "rotate(" + value + "deg)";
    }




}

var slides = document.querySelector('.slider-items').children;
var nextSlide = document.querySelector(".right-slide");
var prevSlide = document.querySelector(".left-slide");
var totalSlides = slides.length;
var index = 0;

nextSlide.onclick = function() {
    next("next");
}
prevSlide.onclick = function() {
    next("prev");
}


function next(direction) {

    if (direction == "next") {
        index++;
        if (index == totalSlides) {
            index = 0;
        }
    } else {
        if (index == 0) {
            index = totalSlides - 1;
        } else {
            index--;
        }
    }

    for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove("active");
    }
    slides[index].classList.add("active");

}